---
- hosts: localhost
  gather_facts: no
  connection: local
  become: True

  tasks:
  - name: Install packages
    apt: name={{ item }} update_cache=yes
    with_items:
      - python-pip
      - python-dev
      - libsmpeg0
      - libttspico-utils
      - libsmpeg0
      - flac
      - dialog
      - libffi-dev
      - portaudio19-dev
      - build-essential
      - libssl-dev
      - libffi-dev
      - sox
#
  - name: Copy requirement
    copy:
      src: python_requirements.txt
      dest: /tmp/requirements.txt

  - name: Upgrade pip
    pip:
      name: pip
      state: latest

  - name: Install python libs
    pip:
      requirements=/tmp/requirements.txt
