



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.0">
    
    
      
        <title>settings.yml - Kalliope doc</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.0284f74d.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.01803549.css">
      
      
        
        
        <meta name="theme-color" content="#009688">
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="teal" data-md-color-accent="pink">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#settingsyml" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Kalliope doc" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Kalliope doc
            </span>
            <span class="md-header-nav__topic">
              
                settings.yml
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Kalliope doc" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Kalliope doc
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Installation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Installation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../installation/raspbian/" title="Raspberry" class="md-nav__link">
      Raspberry
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../installation/debian/" title="Debian" class="md-nav__link">
      Debian
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../installation/ubuntu/" title="Ubuntu" class="md-nav__link">
      Ubuntu
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../installation/upgrade/" title="Upgrade" class="md-nav__link">
      Upgrade
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../getting-started/" title="Getting-started" class="md-nav__link">
      Getting-started
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
    
    <label class="md-nav__link" for="nav-5">
      Settings
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Settings
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        settings.yml
      </label>
    
    <a href="./" title="settings.yml" class="md-nav__link md-nav__link--active">
      settings.yml
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#triggers-configuration" title="Triggers configuration" class="md-nav__link">
    Triggers configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default_trigger" title="default_trigger" class="md-nav__link">
    default_trigger
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triggers" title="triggers" class="md-nav__link">
    triggers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-example" title="Settings example" class="md-nav__link">
    Settings example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#available-trigger-engine" title="Available trigger engine" class="md-nav__link">
    Available trigger engine
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#players-configuration" title="Players configuration" class="md-nav__link">
    Players configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default_player" title="default_player" class="md-nav__link">
    default_player
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#players" title="players" class="md-nav__link">
    players
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-example_1" title="Settings example" class="md-nav__link">
    Settings example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#available-players" title="Available players" class="md-nav__link">
    Available players
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#speech-to-text-configuration" title="Speech to text configuration" class="md-nav__link">
    Speech to text configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default_speech_to_text" title="default_speech_to_text" class="md-nav__link">
    default_speech_to_text
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#speech_to_text" title="speech_to_text" class="md-nav__link">
    speech_to_text
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-example_2" title="Settings example" class="md-nav__link">
    Settings example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#available-stt" title="Available STT" class="md-nav__link">
    Available STT
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#text-to-speech-configuration" title="Text to speech configuration" class="md-nav__link">
    Text to speech configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default_text_to_speech" title="default_text_to_speech" class="md-nav__link">
    default_text_to_speech
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#text_to_speech" title="text_to_speech" class="md-nav__link">
    text_to_speech
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_path" title="cache_path" class="md-nav__link">
    cache_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-example_3" title="Settings example" class="md-nav__link">
    Settings example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#available-tts" title="Available TTS" class="md-nav__link">
    Available TTS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hooks" title="Hooks" class="md-nav__link">
    Hooks
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#settings-example_4" title="Settings example" class="md-nav__link">
    Settings example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rest-api" title="Rest API" class="md-nav__link">
    Rest API
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources-directory" title="Resources directory" class="md-nav__link">
    Resources directory
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#global-variables" title="Global Variables" class="md-nav__link">
    Global Variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#options" title="Options" class="md-nav__link">
    Options
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#energy_threshold" title="energy_threshold" class="md-nav__link">
    energy_threshold
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adjust_for_ambient_noise_second" title="adjust_for_ambient_noise_second" class="md-nav__link">
    adjust_for_ambient_noise_second
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#send_anonymous_usage_stats" title="send_anonymous_usage_stats" class="md-nav__link">
    send_anonymous_usage_stats
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2" type="checkbox" id="nav-5-2">
    
    <label class="md-nav__link" for="nav-5-2">
      Trigger
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-2">
        Trigger
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../triggers/snowboy/" title="Snowboy" class="md-nav__link">
      Snowboy
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-3" type="checkbox" id="nav-5-3">
    
    <label class="md-nav__link" for="nav-5-3">
      Player
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-3">
        Player
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../players/mplayer/" title="mplayer" class="md-nav__link">
      mplayer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../players/pyalsaaudio/" title="pyalsaaudio" class="md-nav__link">
      pyalsaaudio
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../players/pyaudioplayer/" title="pyaudioplayer" class="md-nav__link">
      pyaudioplayer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../players/sounddeviceplayer/" title="sounddeviceplayer" class="md-nav__link">
      sounddeviceplayer
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-4" type="checkbox" id="nav-5-4">
    
    <label class="md-nav__link" for="nav-5-4">
      STT
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-4">
        STT
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../stt/api.ai/" title="api.ai" class="md-nav__link">
      api.ai
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../stt/bing/" title="Bing" class="md-nav__link">
      Bing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../stt/CMUSphinx/" title="CMUSphinx" class="md-nav__link">
      CMUSphinx
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../stt/google/" title="Google" class="md-nav__link">
      Google
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../stt/houndify/" title="Houndify" class="md-nav__link">
      Houndify
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../stt/wit.ai/" title="wit.ai" class="md-nav__link">
      wit.ai
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-5" type="checkbox" id="nav-5-5">
    
    <label class="md-nav__link" for="nav-5-5">
      TTS
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-5">
        TTS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../tts/espeak/" title="espeak" class="md-nav__link">
      espeak
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tts/googletts/" title="googletts" class="md-nav__link">
      googletts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tts/marytts/" title="marytts" class="md-nav__link">
      marytts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tts/pico2wave/" title="pico2wave" class="md-nav__link">
      pico2wave
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tts/voicerss/" title="voicerss" class="md-nav__link">
      voicerss
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tts/watson/" title="watson" class="md-nav__link">
      watson
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Brain
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Brain
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../brain/brain/" title="brain.yml" class="md-nav__link">
      brain.yml
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-2" type="checkbox" id="nav-6-2">
    
    <label class="md-nav__link" for="nav-6-2">
      Core signals
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-2">
        Core signals
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../brain/signals/event/" title="event" class="md-nav__link">
      event
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../brain/signals/geolocation/" title="geolocation" class="md-nav__link">
      geolocation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../brain/signals/mqtt_subscriber/" title="mqtt_subscriber" class="md-nav__link">
      mqtt_subscriber
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../brain/signals/order/" title="order" class="md-nav__link">
      order
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-3" type="checkbox" id="nav-6-3">
    
    <label class="md-nav__link" for="nav-6-3">
      Core neurons
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-3">
        Core neurons
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../brain/neurons/ansible_playbook/" title="ansible_playbook" class="md-nav__link">
      ansible_playbook
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../brain/neurons/brain/" title="brain" class="md-nav__link">
      brain
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../brain/neurons/debug/" title="debug" class="md-nav__link">
      debug
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../brain/neurons/kalliope_version/" title="kalliope_version" class="md-nav__link">
      kalliope_version
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../brain/neurons/kill_switch/" title="kill_switch" class="md-nav__link">
      kill_switch
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../brain/neurons/mqtt_publisher/" title="mqtt_publisher" class="md-nav__link">
      mqtt_publisher
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../brain/neurons/neurotimer/" title="neurotimer" class="md-nav__link">
      neurotimer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../brain/neurons/neurotransmitter/" title="neurotransmitter" class="md-nav__link">
      neurotransmitter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../brain/neurons/say/" title="say" class="md-nav__link">
      say
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../brain/neurons/script/" title="script" class="md-nav__link">
      script
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../brain/neurons/settings/" title="settings" class="md-nav__link">
      settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../brain/neurons/shell/" title="shell" class="md-nav__link">
      shell
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../brain/neurons/signals/" title="signals" class="md-nav__link">
      signals
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../brain/neurons/sleep/" title="sleep" class="md-nav__link">
      sleep
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../brain/neurons/systemdate/" title="systemdate" class="md-nav__link">
      systemdate
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../brain/neurons/uri/" title="uri" class="md-nav__link">
      uri
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../brain/community_modules/" title="Community modules" class="md-nav__link">
      Community modules
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../cli/" title="CLI" class="md-nav__link">
      CLI
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../rest_api/" title="API" class="md-nav__link">
      API
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Contribute
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Contribute
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../contribute/core/" title="Core" class="md-nav__link">
      Core
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contribute/neuron/" title="Neuron" class="md-nav__link">
      Neuron
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contribute/stt/" title="STT" class="md-nav__link">
      STT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contribute/tts/" title="TTS" class="md-nav__link">
      TTS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contribute/documentation/" title="Documentation" class="md-nav__link">
      Documentation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contribute/installation_file/" title="install.yml" class="md-nav__link">
      install.yml
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contribute/dna/" title="dna.yml" class="md-nav__link">
      dna.yml
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#triggers-configuration" title="Triggers configuration" class="md-nav__link">
    Triggers configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default_trigger" title="default_trigger" class="md-nav__link">
    default_trigger
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triggers" title="triggers" class="md-nav__link">
    triggers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-example" title="Settings example" class="md-nav__link">
    Settings example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#available-trigger-engine" title="Available trigger engine" class="md-nav__link">
    Available trigger engine
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#players-configuration" title="Players configuration" class="md-nav__link">
    Players configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default_player" title="default_player" class="md-nav__link">
    default_player
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#players" title="players" class="md-nav__link">
    players
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-example_1" title="Settings example" class="md-nav__link">
    Settings example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#available-players" title="Available players" class="md-nav__link">
    Available players
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#speech-to-text-configuration" title="Speech to text configuration" class="md-nav__link">
    Speech to text configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default_speech_to_text" title="default_speech_to_text" class="md-nav__link">
    default_speech_to_text
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#speech_to_text" title="speech_to_text" class="md-nav__link">
    speech_to_text
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-example_2" title="Settings example" class="md-nav__link">
    Settings example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#available-stt" title="Available STT" class="md-nav__link">
    Available STT
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#text-to-speech-configuration" title="Text to speech configuration" class="md-nav__link">
    Text to speech configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default_text_to_speech" title="default_text_to_speech" class="md-nav__link">
    default_text_to_speech
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#text_to_speech" title="text_to_speech" class="md-nav__link">
    text_to_speech
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_path" title="cache_path" class="md-nav__link">
    cache_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-example_3" title="Settings example" class="md-nav__link">
    Settings example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#available-tts" title="Available TTS" class="md-nav__link">
    Available TTS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hooks" title="Hooks" class="md-nav__link">
    Hooks
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#settings-example_4" title="Settings example" class="md-nav__link">
    Settings example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rest-api" title="Rest API" class="md-nav__link">
    Rest API
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources-directory" title="Resources directory" class="md-nav__link">
    Resources directory
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#global-variables" title="Global Variables" class="md-nav__link">
    Global Variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#options" title="Options" class="md-nav__link">
    Options
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#energy_threshold" title="energy_threshold" class="md-nav__link">
    energy_threshold
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adjust_for_ambient_noise_second" title="adjust_for_ambient_noise_second" class="md-nav__link">
    adjust_for_ambient_noise_second
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#send_anonymous_usage_stats" title="send_anonymous_usage_stats" class="md-nav__link">
    send_anonymous_usage_stats
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="settingsyml">settings.yml</h1>
<p>This part of the documentation explains the main configuration of Kalliope placed in the <code>settings.yml</code> file.</p>
<p>Kalliope will look for the settings file in the order bellow:</p>
<ul>
<li>From you current folder, E.g <code>/home/pi/my_kalliope/settings.yml</code></li>
<li>From <code>/etc/kalliope/settings.yml</code></li>
<li>From the default <code>settings.yml</code> located in the root of the project tree.</li>
</ul>
<h2 id="triggers-configuration">Triggers configuration</h2>
<h3 id="default_trigger">default_trigger</h3>
<p>The trigger is the engine in charge of detecting the hotword that will wake up Kalliope.
Common usage of hotword include "Alexa" on Amazon Echo, "OK Google" on some Android devices and "Hey Siri" on iPhones.</p>
<p>Specify the name of the trigger module you want to use.</p>
<div class="codehilite"><pre><span></span><span class="nt">default_trigger</span><span class="p">:</span> <span class="s">&quot;trigger_name&quot;</span>
</pre></div>


<p>E.g</p>
<div class="codehilite"><pre><span></span><span class="nt">default_trigger</span><span class="p">:</span> <span class="s">&quot;snowboy&quot;</span>
</pre></div>


<h3 id="triggers">triggers</h3>
<p>The hotword (also called a wake word or trigger word) detector is the engine in charge of waking up Kalliope.</p>
<p>Each Trigger has it own configuration. This configuration is passed as argument following the syntax bellow</p>
<div class="codehilite"><pre><span></span><span class="nt">triggers</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">trigger_name</span><span class="p">:</span>
      <span class="nt">parameter_name</span><span class="p">:</span> <span class="s">&quot;value&quot;</span>
</pre></div>


<p>E.g, the default Snowboy trigger configuration is</p>
<div class="codehilite"><pre><span></span><span class="nt">triggers</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">snowboy</span><span class="p">:</span>
      <span class="nt">pmdl_file</span><span class="p">:</span> <span class="s">&quot;trigger/snowboy/resources/model.pmdl&quot;</span>
</pre></div>


<h3 id="settings-example">Settings example</h3>
<div class="codehilite"><pre><span></span><span class="nt">default_trigger</span><span class="p">:</span> <span class="s">&quot;snowboy&quot;</span>
<span class="nt">triggers</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">snowboy</span><span class="p">:</span>
      <span class="nt">pmdl_file</span><span class="p">:</span> <span class="s">&quot;trigger/snowboy/resources/model.pmdl&quot;</span>
</pre></div>


<h3 id="available-trigger-engine">Available trigger engine</h3>
<table>
<thead>
<tr>
<th>Doc</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="../triggers/snowboy/">snowboy</a></td>
<td>Based on <a href="https://snowboy.kitt.ai/">Snowboy software</a></td>
</tr>
</tbody>
</table>
<h2 id="players-configuration">Players configuration</h2>
<p>The player is the library/software used to make Kalliope talk.
With Kalliope project, you can set whatever sound player you want to use.</p>
<h3 id="default_player">default_player</h3>
<p>Specify the name of the player module you want to use.</p>
<div class="codehilite"><pre><span></span><span class="nt">default_player</span><span class="p">:</span> <span class="s">&quot;player_name&quot;</span>
</pre></div>


<p>E.g</p>
<div class="codehilite"><pre><span></span><span class="nt">default_player</span><span class="p">:</span> <span class="s">&quot;mplayer&quot;</span>
</pre></div>


<h3 id="players">players</h3>
<p>Each Players has it own configuration.
This configuration is passed as argument following the syntax bellow</p>
<div class="codehilite"><pre><span></span><span class="nt">players</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">player_name</span><span class="p">:</span>
      <span class="nt">parameter_name</span><span class="p">:</span> <span class="s">&quot;value&quot;</span>
</pre></div>


<p>When no parameters are required set an empty object:</p>
<div class="codehilite"><pre><span></span><span class="nt">players</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">mplayer</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
</pre></div>


<h3 id="settings-example_1">Settings example</h3>
<div class="codehilite"><pre><span></span><span class="nt">players</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">mplayer</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
  <span class="p p-Indicator">-</span> <span class="nt">pyalsaaudio</span><span class="p">:</span>
     <span class="nt">device</span><span class="p">:</span> <span class="s">&quot;default&quot;</span>
     <span class="nt">convert_to_wav</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
  <span class="p p-Indicator">-</span> <span class="nt">pyaudioplayer</span><span class="p">:</span>
     <span class="nt">convert_to_wav</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
  <span class="p p-Indicator">-</span> <span class="nt">sounddeviceplayer</span><span class="p">:</span>
     <span class="nt">convert_to_wav</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>


<blockquote>
<p><strong>Note:</strong> Sometime, parameters will be necessary to use an engine.
Click on a Player engine link in the <code>Current CORE Available Players</code> section to know which parameter are required.</p>
<p><strong>Note:</strong> A player which does not ask for input parameters need to be declared as an empty dict. E.g: <code>- player_name: {}</code></p>
<p><strong>Note:</strong> Core players are already packaged with the installation of Kalliope an can be used out of the box.</p>
<p><strong>Note:</strong> Most cloud based TTS generate a file in MP3 format. Some players are not able to read this format and then a conversion to wav is needed.</p>
</blockquote>
<h3 id="available-players">Available players</h3>
<p>Core Players are already packaged with the installation of Kalliope an can be used out of the box.</p>
<table>
<thead>
<tr>
<th>Doc</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="../players/mplayer/">mplayer</a></td>
<td>Based on <a href="http://www.mplayerhq.hu/design7/news.html">mplayer software</a></td>
</tr>
<tr>
<td><a href="../players/pyalsaaudio/">pyalsaaudio</a></td>
<td>Based on <a href="https://larsimmisch.github.io/pyalsaaudio/libalsaaudio.html">pyalsaaudio</a> lib</td>
</tr>
<tr>
<td><a href="../players/pyaudioplayer/">pyaudioplayer</a></td>
<td>Based on <a href="https://people.csail.mit.edu/hubert/pyaudio/docs/">pyaudio</a> lib</td>
</tr>
<tr>
<td><a href="../players/sounddeviceplayer/">sounddeviceplayer</a></td>
<td>Based on <a href="https://pypi.python.org/pypi/sounddevice">sounddevice</a> lib</td>
</tr>
</tbody>
</table>
<h2 id="speech-to-text-configuration">Speech to text configuration</h2>
<h3 id="default_speech_to_text">default_speech_to_text</h3>
<p>A Speech To Text(STT) is an engine used to translate what you say into a text that can be processed by Kalliope core.
By default, Kalliope uses google STT engine.</p>
<p>The following syntax is used to provide the engine name:</p>
<div class="codehilite"><pre><span></span><span class="nt">default_speech_to_text</span><span class="p">:</span> <span class="s">&quot;stt_name&quot;</span>
</pre></div>


<p>E.g</p>
<div class="codehilite"><pre><span></span><span class="nt">default_speech_to_text</span><span class="p">:</span> <span class="s">&quot;google&quot;</span>
</pre></div>


<h3 id="speech_to_text">speech_to_text</h3>
<p>Each STT has it own configuration. This configuration is passed as argument as shown bellow</p>
<div class="codehilite"><pre><span></span><span class="nt">speech_to_text</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">stt_name</span><span class="p">:</span>
      <span class="nt">parameter_name</span><span class="p">:</span> <span class="s">&quot;value&quot;</span>
</pre></div>


<p>E.g:</p>
<div class="codehilite"><pre><span></span><span class="nt">speech_to_text</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">google</span><span class="p">:</span>
      <span class="nt">language</span><span class="p">:</span> <span class="s">&quot;fr-FR&quot;</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">bing</span>
</pre></div>


<h3 id="settings-example_2">Settings example</h3>
<div class="codehilite"><pre><span></span><span class="n">default_speech_to_text</span><span class="p">:</span> <span class="ss">&quot;google&quot;</span>
<span class="n">speech_to_text</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">google</span><span class="p">:</span>
      <span class="k">language</span><span class="p">:</span> <span class="ss">&quot;fr-FR&quot;</span>
  <span class="o">-</span> <span class="n">wit</span><span class="p">:</span>
      <span class="k">key</span><span class="p">:</span> <span class="ss">&quot;MYKEYS&quot;</span>
  <span class="o">-</span> <span class="n">bing</span><span class="p">:</span>
      <span class="k">key</span><span class="p">:</span> <span class="ss">&quot;MYKEYS&quot;</span>
  <span class="o">-</span> <span class="n">apiai</span><span class="p">:</span>
      <span class="k">key</span><span class="p">:</span> <span class="ss">&quot;MYKEYS&quot;</span>
      <span class="k">language</span><span class="p">:</span> <span class="ss">&quot;fr&quot;</span>
  <span class="o">-</span> <span class="n">houndify</span><span class="p">:</span>
      <span class="k">key</span><span class="p">:</span> <span class="ss">&quot;MYKEYS&quot;</span>
      <span class="n">client_id</span><span class="p">:</span> <span class="ss">&quot;MYCLIENTID&quot;</span>
</pre></div>


<h3 id="available-stt">Available STT</h3>
<p>Core STTs are already packaged with the installation of Kalliope an can be used out of the box.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="../stt/api.ai/">apiai</a></td>
<td>Cloud based</td>
</tr>
<tr>
<td><a href="../stt/bing/">Bing</a></td>
<td>Cloud based</td>
</tr>
<tr>
<td><a href="../stt/CMUSphinx/">CMUSphinx</a></td>
<td>Self hosted</td>
</tr>
<tr>
<td><a href="../stt/google/">Google</a></td>
<td>Cloud based</td>
</tr>
<tr>
<td><a href="../stt/houndify/">Houndify</a></td>
<td>Cloud based</td>
</tr>
<tr>
<td><a href="../stt/wit.ai/">wit.ai</a></td>
<td>Cloud based</td>
</tr>
</tbody>
</table>
<h2 id="text-to-speech-configuration">Text to speech configuration</h2>
<h3 id="default_text_to_speech">default_text_to_speech</h3>
<p>A Text To Speech is an engine used to translate written text into a speech, into an audio stream.
By default, Kalliope use Pico2wave TTS engine.</p>
<p>The following syntax is used to provide the TTS engine name</p>
<div class="codehilite"><pre><span></span><span class="nt">default_text_to_speech</span><span class="p">:</span> <span class="s">&quot;tts_name&quot;</span>
</pre></div>


<p>Eg</p>
<div class="codehilite"><pre><span></span><span class="n">default_text_to_speech</span><span class="p">:</span> <span class="ss">&quot;pico2wave&quot;</span>
</pre></div>


<h3 id="text_to_speech">text_to_speech</h3>
<p>Each TTS has it own configuration. This configuration is passed as argument following the syntax bellow</p>
<div class="codehilite"><pre><span></span><span class="nt">text_to_speech</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">tts_name</span><span class="p">:</span>
      <span class="nt">parameter_name</span><span class="p">:</span> <span class="s">&quot;value&quot;</span>
</pre></div>


<p>E.g</p>
<div class="codehilite"><pre><span></span><span class="nt">text_to_speech</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">pico2wave</span><span class="p">:</span>
      <span class="nt">language</span><span class="p">:</span> <span class="s">&quot;fr-FR&quot;</span>
  <span class="p p-Indicator">-</span> <span class="nt">googletts</span><span class="p">:</span>
      <span class="nt">language</span><span class="p">:</span> <span class="s">&quot;fr&quot;</span>
</pre></div>


<h3 id="cache_path">cache_path</h3>
<p>TTS engines work all the same, we give them a text, they give back an audio file and we play the audio file. The generated audio file is placed in cache until it
is played by the audio player. Before generating a new audio file, Kalliope will take a look to the cache to load it directly without having to call the
TSS engine if the file has been generated before.</p>
<p>You must set a path where the cache will be saved in the tag <code>cache_path</code>. This one is placed in /tmp by default.</p>
<div class="codehilite"><pre><span></span><span class="n">cache_path</span><span class="p">:</span> <span class="ss">&quot;/tmp/kalliope_tts_cache&quot;</span>
</pre></div>


<blockquote>
<p><strong>Note:</strong> The path must be a valid path, and the current user must has enough right to read and write in it.</p>
<p><strong>Note:</strong> The consumed disk space can dramatically increase in the cache path folder. It is recommended to set your neuron correctly to clean up automatically
generated audio files that will not be played more than once.</p>
</blockquote>
<h3 id="settings-example_3">Settings example</h3>
<div class="codehilite"><pre><span></span><span class="nt">default_text_to_speech</span><span class="p">:</span> <span class="s">&quot;voicerss&quot;</span>

<span class="nt">cache_path</span><span class="p">:</span> <span class="s">&quot;/tmp/kalliope_tts_cache&quot;</span>

<span class="nt">text_to_speech</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">pico2wave</span><span class="p">:</span>
      <span class="nt">language</span><span class="p">:</span> <span class="s">&quot;fr-FR&quot;</span>
      <span class="nt">cache</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
  <span class="p p-Indicator">-</span> <span class="nt">acapela</span><span class="p">:</span>
      <span class="nt">language</span><span class="p">:</span> <span class="s">&quot;sonid15&quot;</span>
      <span class="nt">voice</span><span class="p">:</span> <span class="s">&quot;Manon&quot;</span>
      <span class="nt">cache</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
  <span class="p p-Indicator">-</span> <span class="nt">googletts</span><span class="p">:</span>
      <span class="nt">language</span><span class="p">:</span> <span class="s">&quot;fr&quot;</span>
  <span class="p p-Indicator">-</span> <span class="nt">voicerss</span><span class="p">:</span>
      <span class="nt">language</span><span class="p">:</span> <span class="s">&quot;fr-fr&quot;</span>
      <span class="nt">cache</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>


<h3 id="available-tts">Available TTS</h3>
<p>Core TTSs are already packaged with the installation of Kalliope an can be used out of the box.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="../tts/espeak/">espeak</a></td>
<td>Self hosted</td>
</tr>
<tr>
<td><a href="../tts/googletts/">googletts</a></td>
<td>Cloud based</td>
</tr>
<tr>
<td><a href="../tts/marytts/">marytts</a></td>
<td>Self hosted</td>
</tr>
<tr>
<td><a href="../tts/pico2wave/">pico2wave</a></td>
<td>Self hosted</td>
</tr>
<tr>
<td><a href="../tts/voicerss/">voicerss</a></td>
<td>Cloud based</td>
</tr>
<tr>
<td><a href="../tts/watson/">watson</a></td>
<td>Cloud based</td>
</tr>
</tbody>
</table>
<h2 id="hooks">Hooks</h2>
<p>Hooking allow to bind actions to events based on the lifecycle of Kalliope.
For example, it's useful to know when Kalliope has detected the hotword from the trigger engine and make her spell out loud that she's ready to listen your order.</p>
<p>To use a hook, attach the name of the hook to a synapse (or list of synapse) which exists in your brain.</p>
<p>Syntax:</p>
<div class="codehilite"><pre><span></span><span class="nt">hooks</span><span class="p">:</span>
  <span class="nt">hook_name1</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">synapse_name</span>
  <span class="nt">hook_name2</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">synapse_name_1</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">synapse_name_2</span>
</pre></div>


<p>E.g.</p>
<div class="codehilite"><pre><span></span><span class="nt">hooks</span><span class="p">:</span>
  <span class="nt">on_start</span><span class="p">:</span> <span class="s">&quot;on-start-synapse&quot;</span>
</pre></div>


<p>List of available hook</p>
<table>
<thead>
<tr>
<th>Hook name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>on_start</td>
<td>When kalliope is started. This hook will only be triggered once</td>
</tr>
<tr>
<td>on_waiting_for_trigger</td>
<td>When Kalliope waits for the hotword detection</td>
</tr>
<tr>
<td>on_triggered</td>
<td>When the hotword has been detected</td>
</tr>
<tr>
<td>on_start_listening</td>
<td>When the Speech to Text engine is listening for an order</td>
</tr>
<tr>
<td>on_stop_listening</td>
<td>When the Speech to Text engine stop listening for an order</td>
</tr>
<tr>
<td>on_order_found</td>
<td>When the pronounced order has been found in the brain</td>
</tr>
<tr>
<td>on_order_not_found</td>
<td>When the pronounced order has not been found in the brain</td>
</tr>
<tr>
<td>on_processed_synapses</td>
<td>When all neurons in synapses have been processed</td>
</tr>
<tr>
<td>on_deaf</td>
<td>When Kalliope switches from non deaf to deaf</td>
</tr>
<tr>
<td>on_undeaf</td>
<td>When Kalliope switches from deaf to non deaf</td>
</tr>
<tr>
<td>on_mute</td>
<td>When Kalliope switches from non mute to mute</td>
</tr>
<tr>
<td>on_unmute</td>
<td>When Kalliope switches from mute to non mute</td>
</tr>
<tr>
<td>on_start_speaking</td>
<td>When Kalliope starts speaking via the text to speech engine</td>
</tr>
<tr>
<td>on_stop_speaking</td>
<td>When Kalliope stops speaking</td>
</tr>
<tr>
<td>on_stt_error</td>
<td>When an error appeared during the STT processing</td>
</tr>
</tbody>
</table>
<h3 id="settings-example_4">Settings example</h3>
<p>Example: You want to hear a random answer when the hotword has been triggered</p>
<p><strong>settings.yml</strong></p>
<div class="codehilite"><pre><span></span><span class="nt">hooks</span><span class="p">:</span>
  <span class="nt">on_triggered</span><span class="p">:</span> <span class="s">&quot;on-triggered-synapse&quot;</span>
</pre></div>


<p><strong>brain.yml</strong></p>
<div class="codehilite"><pre><span></span><span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="s">&quot;on-triggered-synapse&quot;</span>
  <span class="nt">signals</span><span class="p">:</span> <span class="p p-Indicator">[]</span>
  <span class="nt">neurons</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">say</span><span class="p">:</span>
        <span class="nt">message</span><span class="p">:</span>
          <span class="p p-Indicator">-</span> <span class="s">&quot;yes</span><span class="nv"> </span><span class="s">sir?&quot;</span>
          <span class="p p-Indicator">-</span> <span class="s">&quot;I&#39;m</span><span class="nv"> </span><span class="s">listening&quot;</span>
          <span class="p p-Indicator">-</span> <span class="s">&quot;I&#39;m</span><span class="nv"> </span><span class="s">listening</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">you&quot;</span>
          <span class="p p-Indicator">-</span> <span class="s">&quot;sir?&quot;</span>
          <span class="p p-Indicator">-</span> <span class="s">&quot;what</span><span class="nv"> </span><span class="s">can</span><span class="nv"> </span><span class="s">i</span><span class="nv"> </span><span class="s">do</span><span class="nv"> </span><span class="s">for</span><span class="nv"> </span><span class="s">you?&quot;</span>
          <span class="p p-Indicator">-</span> <span class="s">&quot;Speaking&quot;</span>
          <span class="p p-Indicator">-</span> <span class="s">&quot;how</span><span class="nv"> </span><span class="s">can</span><span class="nv"> </span><span class="s">i</span><span class="nv"> </span><span class="s">help</span><span class="nv"> </span><span class="s">you?&quot;</span>
</pre></div>


<p>Example: You want to know that your order has not been found</p>
<p><strong>settings.yml</strong></p>
<div class="codehilite"><pre><span></span><span class="nt">hooks</span><span class="p">:</span>
  <span class="nt">on_order_not_found</span><span class="p">:</span> <span class="s">&quot;order-not-found-synapse&quot;</span>
</pre></div>


<p><strong>brain.yml</strong></p>
<div class="codehilite"><pre><span></span><span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="s">&quot;order-not-found-synapse&quot;</span>
    <span class="nt">signals</span><span class="p">:</span> <span class="p p-Indicator">[]</span>
    <span class="nt">neurons</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">say</span><span class="p">:</span>
          <span class="nt">message</span><span class="p">:</span>
            <span class="p p-Indicator">-</span> <span class="s">&quot;I</span><span class="nv"> </span><span class="s">haven&#39;t</span><span class="nv"> </span><span class="s">understood&quot;</span>
            <span class="p p-Indicator">-</span> <span class="s">&quot;I</span><span class="nv"> </span><span class="s">don&#39;t</span><span class="nv"> </span><span class="s">know</span><span class="nv"> </span><span class="s">this</span><span class="nv"> </span><span class="s">order&quot;</span>
            <span class="p p-Indicator">-</span> <span class="s">&quot;Please</span><span class="nv"> </span><span class="s">renew</span><span class="nv"> </span><span class="s">your</span><span class="nv"> </span><span class="s">order&quot;</span>
            <span class="p p-Indicator">-</span> <span class="s">&quot;Would</span><span class="nv"> </span><span class="s">you</span><span class="nv"> </span><span class="s">please</span><span class="nv"> </span><span class="s">reword</span><span class="nv"> </span><span class="s">your</span><span class="nv"> </span><span class="s">order&quot;</span>
            <span class="p p-Indicator">-</span> <span class="s">&quot;Can</span><span class="nv"> </span><span class="s">ou</span><span class="nv"> </span><span class="s">please</span><span class="nv"> </span><span class="s">reformulate</span><span class="nv"> </span><span class="s">your</span><span class="nv"> </span><span class="s">order&quot;</span>
            <span class="p p-Indicator">-</span> <span class="s">&quot;I</span><span class="nv"> </span><span class="s">don&#39;t</span><span class="nv"> </span><span class="s">recognize</span><span class="nv"> </span><span class="s">that</span><span class="nv"> </span><span class="s">order&quot;</span>
</pre></div>


<p>Example: You are running Kalliope on a Rpi. You've made a script that turn on or off a led.
You can call this script every time kalliope start or stop speaking</p>
<p><strong>settings.yaml</strong></p>
<div class="codehilite"><pre><span></span><span class="nt">hooks</span><span class="p">:</span>
  <span class="nt">on_start_speaking</span><span class="p">:</span> <span class="s">&quot;turn-on-led&quot;</span>
  <span class="nt">on_stop_speaking</span><span class="p">:</span> <span class="s">&quot;turn-off-led&quot;</span>
</pre></div>


<p><strong>brain.yml</strong></p>
<div class="codehilite"><pre><span></span><span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="s">&quot;turn-on-led&quot;</span>
  <span class="nt">signals</span><span class="p">:</span> <span class="p p-Indicator">[]</span>
  <span class="nt">neurons</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">script</span><span class="p">:</span>
        <span class="nt">path</span><span class="p">:</span> <span class="s">&quot;/path/to/script.sh</span><span class="nv"> </span><span class="s">on&quot;</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="s">&quot;turn-off-led&quot;</span>
  <span class="nt">signals</span><span class="p">:</span> <span class="p p-Indicator">[]</span>
  <span class="nt">neurons</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">script</span><span class="p">:</span>
        <span class="nt">path</span><span class="p">:</span> <span class="s">&quot;/path/to/script.sh</span><span class="nv"> </span><span class="s">off&quot;</span>
</pre></div>


<blockquote>
<p><strong>Note:</strong> You cannot use a neurotransmitter neuron inside a synapse called from a hook.
You cannot use the "say" neuron inside the "on_start_speaking" or "on_stop_speaking" or it will create an infinite loop</p>
</blockquote>
<h2 id="rest-api">Rest API</h2>
<p>A Rest API can be activated in order to:</p>
<ul>
<li>List synapses</li>
<li>Get synapse's detail</li>
<li>Run a synapse</li>
<li>Update settings</li>
<li>Update the brain</li>
</ul>
<p>For the complete API ref see the <a href="../../rest_api/">REST API documentation</a></p>
<p>Settings examples:</p>
<div class="codehilite"><pre><span></span><span class="n">rest_api</span><span class="o">:</span>
  <span class="n">active</span><span class="o">:</span> <span class="n">True</span>
  <span class="n">port</span><span class="o">:</span> <span class="mi">5000</span>
  <span class="n">password_protected</span><span class="o">:</span> <span class="n">True</span>
  <span class="n">login</span><span class="o">:</span> <span class="n">admin</span>
  <span class="n">password</span><span class="o">:</span> <span class="n">secret</span>
  <span class="n">allowed_cors_origin</span><span class="o">:</span> <span class="s2">&quot;*&quot;</span>
</pre></div>


<table>
<thead>
<tr>
<th>parameter</th>
<th>type</th>
<th>comment</th>
</tr>
</thead>
<tbody>
<tr>
<td>active</td>
<td>boolean</td>
<td>To enable the rest api server</td>
</tr>
<tr>
<td>port</td>
<td>integer</td>
<td>TThe listening port of the web server. Must be an integer in range 1024-65535</td>
</tr>
<tr>
<td>password_protected</td>
<td>boolean</td>
<td>If <code>True</code>, the whole api will be password protected</td>
</tr>
<tr>
<td>login</td>
<td>string</td>
<td>Login used by the basic HTTP authentication. Must be provided if <code>password_protected</code> is <code>True</code></td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>Password used by the basic HTTP authentication. Must be provided if <code>password_protected</code> is <code>True</code></td>
</tr>
<tr>
<td>allowed_cors_origin</td>
<td>string</td>
<td>Allow request from external application. See examples bellow</td>
</tr>
</tbody>
</table>
<p><strong>Cors request</strong></p>
<p>If you want to allow request from external application, you'll need to enable the CORS requests settings by defining authorized origins.
To do so, just indicated the origins that are allowed to leverage the API. The authorize values are:</p>
<p>False to forbid CORS request.</p>
<div class="codehilite"><pre><span></span><span class="n">allowed_cors_origin</span><span class="o">:</span> <span class="n">False</span>
</pre></div>


<p>or either a string or a list:</p>
<div class="codehilite"><pre><span></span><span class="n">allowed_cors_origin</span><span class="p">:</span> <span class="ss">&quot;*&quot;</span>
</pre></div>


<p>(in case of "*", all origins are accepted).
or</p>
<div class="codehilite"><pre><span></span><span class="n">allowed_cors_origin</span><span class="p">:</span>
  <span class="o">-</span> <span class="s1">&#39;http://mydomain.com/*&#39;</span>
  <span class="o">-</span> <span class="s1">&#39;http://localhost:4200/*&#39;</span>
</pre></div>


<p>Remember that an origin is composed of the scheme (http(s)), the port (eg: 80, 4200,…) and the domain (mydomain.com, localhost).</p>
<h2 id="resources-directory">Resources directory</h2>
<p>The resources directory is the path where Kalliope will try to load community modules like Neurons, STTs or TTSs.
Set a valid path is required if you want to install community neuron. The path can be relative or absolute.</p>
<div class="codehilite"><pre><span></span><span class="n">resource_directory</span><span class="o">:</span>
  <span class="n">resource_name</span><span class="o">:</span> <span class="s2">&quot;path&quot;</span>
</pre></div>


<p>E.g</p>
<div class="codehilite"><pre><span></span><span class="n">resource_directory</span><span class="o">:</span>
  <span class="n">neuron</span><span class="o">:</span> <span class="s2">&quot;resources/neurons&quot;</span>
  <span class="n">stt</span><span class="o">:</span> <span class="s2">&quot;resources/stt&quot;</span>
  <span class="n">tts</span><span class="o">:</span> <span class="s2">&quot;resources/tts&quot;</span>
  <span class="n">trigger</span><span class="o">:</span> <span class="s2">&quot;/full/path/to/trigger&quot;</span>
</pre></div>


<h2 id="global-variables">Global Variables</h2>
<p>The Global Variables paths list where to load the global variables.
Those variables can be reused in neuron parameters within double brackets.</p>
<p>E.g</p>
<div class="codehilite"><pre><span></span><span class="n">var_files</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">variables</span><span class="p">.</span><span class="n">yml</span>
  <span class="o">-</span> <span class="n">variables2</span><span class="p">.</span><span class="n">yml</span>
</pre></div>


<blockquote>
<p><strong>Note:</strong> If a variable is defined in different files, the last file defines the value.</p>
</blockquote>
<p>In the files the variables are defined by key/value:</p>
<div class="codehilite"><pre><span></span><span class="n">variable</span><span class="o">:</span> <span class="mi">60</span>
<span class="n">baseURL</span><span class="o">:</span> <span class="s2">&quot;http://blabla.com/&quot;</span>
<span class="n">password</span><span class="o">:</span> <span class="s2">&quot;secret&quot;</span>
</pre></div>


<p>And use variables in your neurons:</p>
<div class="codehilite"><pre><span></span>  <span class="o">-</span> <span class="nv">name</span>: <span class="s2">&quot;</span><span class="s">run-simple-sleep</span><span class="s2">&quot;</span>
    <span class="nv">signals</span>:
      <span class="o">-</span> <span class="nv">order</span>: <span class="s2">&quot;</span><span class="s">Wait for me </span><span class="s2">&quot;</span>
    <span class="nv">neurons</span>:
      <span class="o">-</span> <span class="nv">uri</span>:
          <span class="nv">url</span>: <span class="s2">&quot;</span><span class="s">{{baseURL}}get/1</span><span class="s2">&quot;</span>
          <span class="nv">user</span>: <span class="s2">&quot;</span><span class="s">admin</span><span class="s2">&quot;</span>
          <span class="nv">password</span>: <span class="s2">&quot;</span><span class="s">{{password}}</span><span class="s2">&quot;</span>
</pre></div>


<blockquote>
<p><strong>Note:</strong> Because YAML format does no allow double braces not surrounded by quotes: you must use the variable between double quotes.</p>
</blockquote>
<p>A global variable can be a dictionary. Example:</p>
<div class="codehilite"><pre><span></span><span class="n">contacts</span><span class="o">:</span>
  <span class="n">nico</span><span class="o">:</span> <span class="s2">&quot;1234&quot;</span>
  <span class="n">tibo</span><span class="o">:</span> <span class="s2">&quot;5678&quot;</span>
</pre></div>


<p>And a synapse that use this dict:</p>
<div class="codehilite"><pre><span></span><span class="o">-</span><span class="w"> </span><span class="nl">name</span><span class="p">:</span><span class="w"> </span><span class="ss">&quot;test-var&quot;</span><span class="w"></span>
<span class="w">  </span><span class="nl">signals</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="o">-</span><span class="w"> </span><span class="k">order</span><span class="err">:</span><span class="w"> </span><span class="ss">&quot;give me the number of {{ contact_to_search }}&quot;</span><span class="w"></span>
<span class="w">  </span><span class="nl">neurons</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="o">-</span><span class="w"> </span><span class="nl">say</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nl">message</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="o">-</span><span class="w"> </span><span class="ss">&quot;the number is {{ contacts[contact_to_search] }}&quot;</span><span class="w"></span>
</pre></div>


<h2 id="options">Options</h2>
<p>Options that can be defined for Kalliope.</p>
<p>Example config</p>
<div class="codehilite"><pre><span></span><span class="nt">options</span><span class="p">:</span>
  <span class="nt">mute</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
  <span class="nt">deaf</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>


<p>Available options:</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>mute</td>
<td>When mute, the STT engine will not be used to make Kalliope talking during neurons execution</td>
</tr>
<tr>
<td>deaf</td>
<td>When deaf, the trigger engine is not started. Kalliope will not listen for a wake up word</td>
</tr>
<tr>
<td>energy_threshold</td>
<td><a href="#energy_threshold">energy_threshold</a></td>
</tr>
<tr>
<td>adjust_for_ambient_noise_second</td>
<td><a href="#adjust_for_ambient_noise_second">adjust_for_ambient_noise_second</a></td>
</tr>
<tr>
<td>stt_timeout</td>
<td>Number of seconds before stop the STT process automatically</td>
</tr>
</tbody>
</table>
<h3 id="energy_threshold">energy_threshold</h3>
<p>Represents the energy level threshold for sounds. By default set to <strong>4000</strong>.
Values below this threshold are considered silence, and values above this threshold are considered speech.
This is adjusted automatically if dynamic thresholds are enabled with <code>adjust_for_ambient_noise_second</code> parameter.</p>
<p>This threshold is associated with the perceived loudness of the sound, but it is a nonlinear relationship.
The actual energy threshold you will need depends on your microphone sensitivity or audio data.
Typical values for a silent room are 0 to 100, and typical values for speaking are between 150 and 3500.
Ambient (non-speaking) noise has a significant impact on what values will work best.</p>
<p>If you're having trouble with the recognizer trying to recognize words even when you're not speaking, try tweaking this to a higher value.
If you're having trouble with the recognizer not recognizing your words when you are speaking, try tweaking this to a lower value.
For example, a sensitive microphone or microphones in louder rooms might have a ambient energy level of up to 4000.</p>
<div class="codehilite"><pre><span></span><span class="n">options</span><span class="o">:</span>
  <span class="n">energy_threshold</span><span class="o">:</span> <span class="mi">4000</span>
</pre></div>


<blockquote>
<p><strong>Note:</strong> The default value is 4000 if not set</p>
</blockquote>
<h3 id="adjust_for_ambient_noise_second">adjust_for_ambient_noise_second</h3>
<p>If defined, will adjusts the energy threshold dynamically by capturing the current ambient noise of the room during the number of second set in the parameter.
When set, the <code>energy_threshold</code> parameter is overridden by the returned value of the noise calibration.
This value should be at least 0.5 in order to get a representative sample of the ambient noise.</p>
<div class="codehilite"><pre><span></span><span class="n">options</span><span class="o">:</span>
  <span class="n">adjust_for_ambient_noise_second</span><span class="o">:</span> <span class="mi">1</span>
</pre></div>


<blockquote>
<p><strong>Note:</strong> The number of second here represents the time between kalliope's awakening and the moment when you can give her your order.</p>
</blockquote>
<h2 id="send_anonymous_usage_stats">send_anonymous_usage_stats</h2>
<p>This flag allow Kalliope to send some stats in order to anonymously evaluate the global usage of Kalliope app by users.</p>
<p>Syntax:</p>
<div class="codehilite"><pre><span></span><span class="n">send_anonymous_usage_stats</span><span class="p">:</span> <span class="o">&lt;</span><span class="nb">boolean</span><span class="o">&gt;</span>
</pre></div>


<p>E.g:</p>
<div class="codehilite"><pre><span></span><span class="n">send_anonymous_usage_stats</span><span class="o">:</span> <span class="n">False</span>
</pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../getting-started/" title="Getting-started" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Getting-started
              </span>
            </div>
          </a>
        
        
          <a href="../triggers/snowboy/" title="Snowboy" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Snowboy
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.245445c6.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>